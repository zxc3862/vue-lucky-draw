
<template>
  <h2>ğŸ” ç®¡ç†å“¡ç™»å…¥</h2>
  <input v-model="email" placeholder="Email" />
  <button @click="login">ç™»å…¥é€£çµå¯„é€</button>
  <p v-if="message">{{ message }}</p>
</template>

<script setup>
import { supabase } from '../../supabaseClient'
import { ref } from 'vue'

const email = ref('')
const message = ref('')

const login = async () => {
  const { error } = await supabase.auth.signInWithOtp({ email: email.value })
  message.value = error ? 'ç™»å…¥å¤±æ•—' : 'è«‹è‡³ä¿¡ç®±æ”¶ä¿¡å®Œæˆç™»å…¥'
}
</script>
